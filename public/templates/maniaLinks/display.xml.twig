<manialink id="1">
<frame pos="{{ widths[0] / 2 }} 0.47 0">
    <quad size="{{ widths[0] }} {{ 0.11 + hsize + (data|length) * bsize }}"
          style="{{ style.get('window.style') }}"
          substyle="{{ style.get('window.substyle') }}"/>

    <quad pos="-{{ widths[0] / 2 }} -0.01 -0.1"
          size="{{ widths[0] - 0.02 }} {{ hsize }}"
          halign="center"
          style="{{ style.get('header.style') }}"
          substyle="{{ style.get('header.substyle') }}"/>

    {% if icon is iterable %}
        <quad pos="-0.055 -0.045 -0.2"
              size="{{ hsize + (icon[2]|default(0)) }} {{ hsize + (icon[2]|default(0)) }}"
              halign="center" valign="center"
              style="{{ icon[0]|default('') }}" substyle="{{ icon[1]|default('') }}"/>
        <label pos="-0.10 -0.025 -0.2"
               size="{{ widths[0] - 0.12 }} {{ hsize }}"
               halign="left"
               style="{{ style.get('header.textstyle') }}"
               text="{{ header|default('') }}"/>
    {% else %}
        <label pos="-0.03 -0.025 -0.2"
               size="{{ widths[0] - 0.05 }} {{ hsize }}"
               halign="left"
               style="{{ style.get('header.textstyle') }}"
               text="{{ header|default('') }}"/>
    {% endif %}

    <quad pos="-{{ widths[0] / 2 }} -{{ 0.02 + hsize }} -0.1"
          size="{{ widths[0] - 0.02 }} {{ 0.02 + (data|length) * bsize }}"
          halign="center"
          style="{{ style.get('body.style') }}"
          substyle="{{ style.get('body.substyle') }}"/>

    <format style="{{ style.get('body.textstyle') }}"/>
    {% for line in data %}
        {% set cnt = loop.index %}
        {% if line is iterable %}
            {% if line|length > 1 %}
                {% for i in 0..(widths|length - 2) %}
                    {% if line[i] is iterable %}
                        <quad pos="-{{ 0.015 + widths[1:i+1]|sum }} -{{ hsize - 0.013 + cnt * bsize }} -0.15"
                              size="{{ widths[i+1] - 0.03 }} {{ bsize + 0.005 }}"
                              halign="left"
                              style="{{ style.get('button.style') }}"
                              substyle="{{ style.get('button.substyle') }}"
                              action="{{ line[i][1]|default(0) }}"/>
                        <label pos="-{{ 0.025 + widths[1:i+1]|sum }} -{{ hsize - 0.008 + cnt * bsize }} -0.2"
                               size="{{ widths[i+1] - 0.05 }} {{ 0.02 + bsize }}"
                               halign="left"
                               style="{{ style.get('body.textstyle') }}"
                               text="{{ line[i][0]|default('') }}"/>
                    {% else %}
                        <label pos="-{{ 0.025 + widths[1:i+1]|sum }} -{{ hsize - 0.008 + cnt * bsize }} -0.2"
                               size="{{ widths[i+1] - 0.05 }} {{ 0.02 + bsize }}"
                               halign="left"
                               style="{{ style.get('body.textstyle') }}"
                               text="{{ line[i]|default('') }}"/>
                    {% endif %}
                {% endfor %}
            {% elseif line|length > 0 %}
                <label pos="-0.025 -{{ hsize - 0.008 + cnt * bsize }} -0.2"
                       size="{{ widths[0] - 0.04 }} {{ 0.02 + bsize }}"
                       halign="left"
                       style="{{ style.get('body.textstyle') }}"
                       text="{{ line[0]|default('') }}"/>
            {% endif %}
        {% endif %}
    {% endfor %}

    <quad pos="-{{ widths[0] / 2 }} -{{ 0.04 + hsize + (data|length) * bsize }} -0.2"
          size="0.06 0.06"
          halign="center"
          style="Icons64x64_1"
          substyle="Close"
          action="0"/>
</frame>
</manialink>
